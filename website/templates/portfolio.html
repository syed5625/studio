{% extends 'base.html' %}
{% load static %}

{% block content %}
<h1 class="page-title">
    {% if category %}
        {{ category.name }}
    {% else %}
        Portfolio
    {% endif %}
</h1>

<!-- CATEGORY FILTER -->
<div class="portfolio-filters">
    <a href="{% url 'portfolio' %}">All</a>
    {% for cat in categories %}
        <a href="{% url 'portfolio_by_category' cat.slug %}">
            {{ cat.name }}
        </a>
    {% endfor %}
</div>

<!-- PROJECT GRID -->
<section class="grid-section reveal">
    {% for project in projects %}
        <a href="{% url 'project_detail' project.slug %}" class="card">
            <img src="{{ project.cover_image.url }}"
                 alt="{{ project.title }}"
                 loading="lazy"
                 class="lazy-img">
            <h3>{{ project.title }}</h3>
        </a>
    {% empty %}
        <p>No projects available.</p>
    {% endfor %}
</section>

{% endblock %}
